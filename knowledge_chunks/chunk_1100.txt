12 follow. However, as pointed out by Davis and Hamscher (1988), being able to reason in the forward direction is not enough. The task of diagnosis requires that one should be able to propagate the observed discrepancy to the various connected components in the device. This means that one should be able to infer values at hidden terminals. For example, if one knew that E, 6 and the observed value F, 10, then one should be able to say that, as long as the component Add, is working correctly, the value at D, should be 4. To facilitate this, the inputs and outputs of a component should be expressed by a set of constraints or as relations that allow inferences for any unknown variable in terms of the others. For example, we could describe the multiplier and adder using predicates in logic, Multiplier(M) Product(output(M), input,(M), input,(M)) Adder(A) Sum(output(A), input,(A), input,(A)) where Product(X, Y, Z) is true iff X YZ and Sum(X, Y, Z) is true iff X Y Z. Or one could use a constraint representing language along with a constraint solver. 17.3.2 Consistency Based Diagnosis Given a device model in FOL, diagnosis can be arrived at by a process of logical reasoning, called Consistency Based Diagnosis, formalized as follows by Raymond Reiter (1987). From the device designer s perspective, each component can be described by its intended behaviour. In the above example we can say, Multiplier(M) D Product(output(M), input,(M), input,(M)) Adder(A) D Sum(output(A), input,(A), input,(A)) This description can be thought as default behaviour, or the behaviour expected in general when the device is working as designed. For the task of diagnosis, the reasoner may have to contend with the situation when some component is not working as designed. To model the device to cater to reasoning about malfunctioning components, we assume that each component in the device is either working or broken. Reiter adopts the predicate Ab(x) introduced by McCarthy (see Section 17.1.2) to indicat