: I' nil!. event : = event Set first. event Set remove: event. (event Set is Empty) if True: levents Pending removekey: min Timel. self process Event: event The method responding to the message add Event checks to see if a time value (key) exists in the dictionary. If so, it adds the new event to the set under the key. If the time does not already exist, a new set is created, and the event is added to the set and the set put in events Pending. The proceed method finds the smallest event time (key) and retrieves and removes the first element of the set located there. If the resultant set is empty, the key for the empty set is removed. A message is then sent to the process Event object in the class Harbor Operations which is defined next. Class Harbor Operation Simulator Itotal Cargo arrival Distribution docking Oistributi On service Distribution remaining Berthsl new total Cargo := 0. remaining Berths := 8 arrival Distributi On = Exponential new: 3. ship Distribution := Discrete Prob new: #(0.2 0.5 0.3) docking Oistribution := Uniform new ,#(0.5 2.0). service Distribution : = Exponential new: 14. self schedule Arrival schedule Arrival Inew Ship time new Ship: Ship new. self add Event: (self ship Arrival: new Shipl at: (self time + (arrival Distribution next)) 160 Object-Oriented Representations Chap. 8 process Event: event event value. ('ship arrived at, self time) print. total Cargo total Cargo + (ship Size 10). self schedule Arrival report Cargo ('total cargo transferred', total Cargo) print The method new initializes some variables, including the arrival, docking. and service distributions. A sample from a distribution is obtained by sending the distribution the message next. (The programming details for the generation of random samples from all distributions have been omitted in the Interest of presenting a more readable example.) The schedule Arrival method sends a message to the Ship class to create a new ship and then adds the event block [self ship Arrival: n