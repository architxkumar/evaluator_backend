fore moving onto to the next goal on the agenda. Thus, plan space planning or partial order planning can be seen to go through a cycle of R steps. Remove a flaw (or an open goal) from the agenda. Resolve the flaw. Refine the partial plan, and in the process, Revise the agenda. Let us look at a small but complete example. Let the initial state of the problem be ontable(A), clear(A), ontable(C), on(B, C), clear(B), AE where AE stands for armempty. Let the goal predicates be on(A, B), ontable(B) . The problem is depicted in Figure 7.18. Fe o LB Cd The given state The goal state Figure 7.18 A small planning problem. Note that nothing is said about block C in the goal state. It could be on the table or on block A. Figure 7.19 shows a partial plan after four actions have been added as described below. The empty plan with actions Ap and A.. captures the initial state and the goal clauses. The two goal clauses are the open conditions. The planner chooses one of them, say on(A, B), and inserts an action stack(A, B). It inserts an ordering link (stack(A, B) A.), and a causal link (stack(A, B), on(A, B), A ). The preconditions of the action stack(A, B) now appear as open conditions, holding(A) and clear(B). Let us say that the planner then looks at clear(B) and finds that it has a producer in the action Ao. It establishes a causal link (shown in the figure) and an ordering link (not shown) for clear(B). It could then take up the open condition ontable(B) and add the action putdown(B), and the corresponding links. Next comes the open condition holding(A), and for that, it inserts the action pickup(A) and its links. The only open condition left at this point is holding(B), and for the planner, insert the action unstack (B, C) into the plan. At this point, three threats appear, marked as t,, f2 and tg in the figure. E onBC clearB - stackAB onAB clearB sg onAB ontableB send Mais Figure 7.19 A partial plan with four actions added in the order stackAB, putdownB, pickupA, unstackBC. 