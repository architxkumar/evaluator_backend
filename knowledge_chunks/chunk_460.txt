r variable. This will constrain the choice of a value for x2. Likewise, a constraint R123 will constrain the choice a value for x3, and so on. We illustrate this with a couple of examples. Consider applying adaptive consistency to the problem depicted in Figure 9.24, shown below in Figure 9.27. First, 4-consistency is applied to the variable E since it has three parents. This infers the relation Recp and adds the edges (B, C), (C, D) and (B, D) to the constraint graph. Now the variable D has two parents and so 3-consistency is applied to it. This prunes the relation Rgc as shown. The edge (B, C) already exists. Then variables C and B are processed and 2-consistency is applied, pruning the domains of B and A respectively, as shown. in b, g ir,b fr,bgt bg rt Reco We xDe xDp yer ac Dgx De OAD O BW D Rp Dg OB O e -e Ry Dy . a Reacn (6, 6, 6), (b, 5, g), (6,8, 6), (6, g, 8) Rac (6, 6), (b, g) Rg b Dg Rya treg D FIGURE 9.27 Adaptive consistency on the problem in Fig. 9.24 infers a different set of relations as shown. It prunes the domains of only variables B and A, when establishing consistency for C and B respectively. The resulting graph is backtrack free, when values are chosen respecting the inferred constraints. The reader should verify that the resulting graph yields backtrack free search. There is a spurious value r in the domain Dc but it is never selected because the inferred relation Rec does not allow it. Consider another problem of the five variables as follows, Problem CSP8 X Xp, Xo, X3, X4, Xs D D, D2 Dg r, b, g , Ds r, b , Ds b, o C Cj Xj, xj X where Sj x;, x and Ry (x; X)). The graph is fully connected and the relation is that any two variables are assigned the same colour. Let us assume the ordering Xo, X2, X3, X4, Xs. Adaptive consistency proceeds as follows. 1. 5-consistency is applied to the variable x5 and the relation R4234 is inferred as R1234 (b, b, b, b) 2. 4-consistency is applied to the variable x4 and the relation R423 is inferred as R123 (b, b