esensormodelassumes Gaussiannoisewithvariance 2:
z 1
(zt xt)2
P(z x ) e 2 z 2 .
t t
Now,giventheprior P(X ),theone-steppredicteddistributioncomesfrom Equation(15.17):
0
(cid:26) (cid:26) 1 (x1 x0)2 1 (x0 0)2
P(x
1
) P(x
1 x
0
)P(x
0
)dx
0 e 2 x 2 e 2 0 2 dx
0 (cid:26) 1 0 2(x1 x0)2 x 2(x0 0)2 e 2 0 2 x 2 dx
0
. Thisintegrallooksrathercomplicated. Thekeytoprogress istonoticethattheexponentisthe
sumoftwoexpressionsthatarequadraticinx andhenceisitselfaquadraticinx . Asimple
0 0
COMPLETINGTHE trick known as completing the square allows the rewriting of any quadratic ax2 bx c
SQUARE 0 0
as the sum of asquared term a(x b)2 and a residual term c b2 that is independent of
0 2a 4a
x . Theresidual termcanbetakenoutside theintegral,giving us
0 (cid:26)
P(x 1 ) e 2
1 c 4
b2
a e 1
2
(a(x0 2a
b)2)
dx 0 . Nowtheintegralisjusttheintegralofa Gaussianoveritsfullrange,whichissimply1. Thus,
weare left with only the residual term from the quadratic. Then, wenotice that the residual
termisaquadratic inx ;infact,aftersimplification, weobtain
1 1
(x1 0)2
P(x
1
) e 2 0 2 x 2 .
Thatis,theone-steppredicteddistributionisa Gaussianwiththesamemean andavariance
0
equaltothesumoftheoriginal variance 2 andthetransition variance 2.
0 x
To complete the update step, we need to condition on the observation at the first time
step,namely,z . From Equation(15.18), thisisgivenby
1
P(x z ) P(z x )P(x )
1 1 1 1 1 1
(z1 x1)2 1
(x1 0)2 e 2 z 2 e 2 0 2 x 2 .
Onceagain,wecombinetheexponents andcompletethesquare (Exercise15.11), obtaining
0 1 1 B B (x1 ( 0 2 0 2 x 2 )z x 2 1 z 2 z 2 0)2 C C
2 ( 0 2 x 2) z 2 ( 0 2 x 2 z 2) A
P(x z ) e . (15.19)
1 1
Section15.4. Kalman Filters 587
0.45
0.4
0.35
0.3
0.25
0.2
0.15
0.1
0.05
0
-10 -5 0 5 10
)x(P
P(x z 2.5)
1 1
P(x) 0
P(x)
1
z 1
x position
Figure 15.10 Stages in the Kalman filter update cycle for a random walk with a prior
given by 0 0.0 and 0 1.0, transition noise given by x 2.0, sensor noise given by z 1.0,andafirstobservationz
1 2.5(markedonthex-axis). Noticehowthepr