understood domains. In recommender systems however, the task is to help a user select a product that best matches her requirement. The retrieval set is not used to construct one solution. Rather it offers a set of choices to the user. It then makes sense that the set of choices is diverse, so that the user has different products to choose from. Diversity, as defined in Section 15.1.2, is a measure of dissimilarity in the retrieval set. CRN-T(q, E m , C n , Sim m,m , Rel m, n , T) gq: query, Elm): IE, C n : cases, Sim m,m): IE-sim, Rel m,n): relevance, T: threshold w 2 forie cltom 3 do Efi) 0 Initialize 4 fori lton 5 do C i 0 Initialize while Q () 7 do Query instantiation 8 i First(q) 9 Efi) 1 10 gq Rest (q) 11 ie itl 12 for ie ltom 13 do Eli SimAggr(E, Sim) propagate similarity 14 forie lton 15 do Cli Relaggr(Z, Rel) 16 Re Retrieval set 17 for ie lton 18 do if C(i) T 19 then R RY GetCase(CB, i) 20 return R FIGURE 15.31 The CRN-T algorithm begins by activating some E nodes that the query values. It then uses the function SimAggr(E,Sim) to use the similarity (arc) weights stored in array Sim to determine the activation of all E nodes after propagation. After all E nodes have been activated, it uses the RelAggr(E,Rel) function to determine the activation of case nodes stored in array C. Diversity conscious retrieval has requirements that may conflict with each other. On the one hand, a retrieved case should be similar to the query. On the other hand, it must be dissimilar to the other cases in the retrieval set. One needs to ensure that in the quest for diversity, there is no significant loss of similarity. Since the retrieval set is constructed incrementally, one needs to use the notion of relative diversity of a candidate with respect to the retrieval set being constructed. From the viewpoint of increasing diversity, the next case to be added to the set is the one with the highest relative diversity. We repeat the definition of relative diversity and quality below. R