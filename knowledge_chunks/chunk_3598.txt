nt shows condition A. and test B reveals biochemistry condition C THEN: -conclude the patient's diagnosis IS autoimmune-chronic-hepatitis. Sec. 15.2 Rule-Based System Architectures 333 This rule could be written straightaway in PROLOG as conclude(patient, diagnosis. autoimmunechronichepatitis) - same(patien(, disorder, chronic), same)patient, sex, female), lessthan(patient. age, 30), same(paflent, symptom-a, valuea), same(patient, biochemistry, valuec) Note that PROLOG rules have at most one conclusion clause. The Inference Process The inference engine accepts user input queries and responses to questions through the I/O interface and uses this dynamic information together with the static knowledge (the rules and facts) stored in the knowledge base. The kno ledge in the knowledge base is used to derive conclusions about the current case or situation as presented by the user's input. The inferring process is carried Out recursively in three stages: ( I ) match. (2) select, and (3) execute. During the match stage, the contents of orking memory are compared to facts and rules contained in the knowledge base. When consistent matches are found, the corresponding rules are placed in a conflict set. To find an appropriate and consistent match, substitutions (instantiations) may be required. Once all the matched rules have been added to the conflict set during a given cycle, one of the rules is selected for execution. The criteria for selection may be most recent use, rule condition specificity. (the number of conjuncts on the left). or simply the smallest rule number. The selected rule is then executed and the right-hand side or action part of the rule is then carried out. Figure 15.3 illustrates this match-select-execute cycle. As an example, suppose the working memory contains the two clauses (father bob sam) (mother sue sam) When the match part of the cycle is attempted, a consistent match will be made between these two clauses and rules r7 and r8 in the knowledge base.